"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-chat_components_ModelPicker_tsx"],{47745:(e,i,l)=>{l.d(i,{z5:()=>q,Yb:()=>F,k:()=>C});var t,s=l(74848),a=l(21728),o=l(4817),n=l(77430),r=l(53419),d=l(13017),m=l(38621),c=l(87330),u=l(83294),h=l(5945),p=l(52446),g=l(81246),y=l(69948),f=l(12004),b=l(96665),v=l(87131),_=l(34164),x=l(96540),j=l(25641),M=l(73952),N=l(51213),R=l(35247),k=l(79064),P=l(2635),w=l(33592),L=l(46062);let S={menuButton:"ModelPicker-module__menuButton--w_ML2",menuHeading:"ModelPicker-module__menuHeading--PBTLv",messageRetryButtonGroup:"ModelPicker-module__messageRetryButtonGroup--UkrjO",messageRetryDivider:"ModelPicker-module__messageRetryDivider--gIDae",messageRetryMenuButton:"ModelPicker-module__messageRetryMenuButton--rNpIr",messageRetryButton:"ModelPicker-module__messageRetryButton--DqHs5",modelNameDisabled:"ModelPicker-module__modelNameDisabled--Vhv9R",modelMetaLabel:"ModelPicker-module__modelMetaLabel--zMick",footer:"ModelPicker-module__footer--yCNLJ",buttonName:"ModelPicker-module__buttonName--Iid1H",loadingSpinner:"ModelPicker-module__loadingSpinner--BTsER"};var I=l(79184);function F({onNewThreadSelected:e,limited:i,type:l="global",selectedModel:t,onModelSelected:a,disabled:o=!1}){let n=(0,w.b)(),{model:m,availableModels:c,mode:u,messages:h,currentReferences:p,selectedThreadID:g,modelsLoading:y,isWaitingOnCopilot:f,streamingMessage:b}=(0,P.Pk)(),{premiumInteractionsQuotaExceeded:v,overagesEnabled:_,plan:j}=(0,I.xR)(),S="pending"===y.state,{search:F,pathname:E}=(0,d.zy)(),U=(0,x.useRef)(!1),A=R.W.premiumRequestQuotasEnabled&&v&&!_,q=o;R.W.disableModelPickerWhileStreaming&&(q=o||f||null!==b);let[O,G]=(0,x.useState)(null),Y=(0,x.useRef)(!1);function H(e){a?a(e):n.selectModel(e)}return(t||(t=m),(0,x.useEffect)(()=>{S&&n.fetchModels()},[n,S]),(0,x.useEffect)(()=>{if(!U.current&&!S&&c.length>1){let e=k.Jt.getModel(g)?.id,i=c.find(i=>i.id===e&&(A||e!==L.QA));(!i&&j||j!==N.UH.IndividualFree&&v&&!_)&&(i=(0,L.fZ)(c,j,v,_)),i&&(n.selectModel(i,!0),U.current=!0)}},[c,n,m,S,_,j,v,g,A]),(0,x.useEffect)(()=>{if("immersive"!==u)return;let e=new URLSearchParams(F).get("model");if(e&&("/copilot"===E||"/copilot/"===E)){if(m.id===e||Y.current||!c?.length)return;Y.current=!0;let i=c?.find(i=>i.id===e);i&&(n.selectModel(i,!1),(0,r.BI)("dotcom_chat.activate",{target:"COPILOT_MODEL_LOADED_FROM_URL",mode:"immersive"}))}},[c,n,u,m?.id,E,F]),c.length<2)?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C,{selectedModel:t,models:c,type:l,onModelPicked:e=>{var i,s,a,o,n,d;"global"===l&&T(t,e)||((0,r.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_MODEL_SELECT",mode:"immersive",model:e.id,isUnchanged:T(t,e),type:l}),T(t,e)?H(e):(i=h,s=e,("message-retry"===l?(0,M.B)(i):i).some(e=>e.skillExecutions?.length)&&(!s.capabilities?.supports?.tool_calls||s.isThirdParty||"o1-ga"===s.capabilities.family))?G({model:e,command:{action:"requires-new-conversation",reason:"external-content"}}):(a=h,o=p,n=e,(("message-retry"===l?(0,M.B)(a):a).some(e=>e.mediaContent?.length)||o.some(e=>"image"===e.type))&&!n.capabilities?.supports?.vision)?G({model:e,command:{action:"requires-new-conversation",reason:"degraded-image-support"}}):(d=e).policy&&"enabled"!==d.policy.state?G({model:e,command:{action:"requires-policy-approval"}}):H(e))},limited:i,disabled:q,variant:"invisible",plan:j??void 0}),O?.command.action==="requires-new-conversation"&&(0,s.jsx)(D,{model:O.model,reason:O.command.reason,onDismiss:()=>{(0,r.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_REQUIRES_NEW_CONVERSATION_CANCEL",mode:"immersive",model:O.model.id,type:l}),G(null)},onSwitch:async()=>{(0,r.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_REQUIRES_NEW_CONVERSATION_CONFIRM",mode:"immersive",model:O.model.id,type:l}),G(null),await e(),n.selectModel(O.model)}}),O?.command.action==="requires-policy-approval"&&(0,s.jsx)(B,{model:O.model,onDismiss:()=>{(0,r.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_POLICY_CANCEL",mode:"immersive",model:O.model.id,type:l}),G(null)},onConfirm:async()=>{await n.acceptModelPolicy(O.model),n.selectModel(O.model),(0,r.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_DIALOG_POLICY_CONFIRM",mode:"immersive",model:O.model.id,type:l}),G(null)}})]})}let E=x.forwardRef(function(e,i){let l,t,o,n,r,d,h,p,g,y=(0,a.c)(20);y[0]!==e?({selectedModel:n,onModelPicked:o,disabled:t,...l}=e,y[0]=e,y[1]=l,y[2]=t,y[3]=o,y[4]=n):(l=y[1],t=y[2],o=y[3],n=y[4]);let f=`Retry with ${n.displayName}`;return y[5]!==o||y[6]!==n?(r=()=>o(n),y[5]=o,y[6]=n,y[7]=r):r=y[7],y[8]!==t||y[9]!==f||y[10]!==r?(d=(0,s.jsx)(c.K,{variant:"invisible","aria-label":f,onClick:r,icon:m.SyncIcon,disabled:t,className:S.messageRetryButton}),y[8]=t,y[9]=f,y[10]=r,y[11]=d):d=y[11],y[12]===Symbol.for("react.memo_cache_sentinel")?(h=(0,s.jsx)("div",{className:S.messageRetryDivider}),y[12]=h):h=y[12],y[13]!==l||y[14]!==t?(p=(0,s.jsx)(c.K,{variant:"invisible",icon:m.TriangleDownIcon,"aria-label":"Retry with\u2026",disabled:t,className:S.messageRetryMenuButton,...l}),y[13]=l,y[14]=t,y[15]=p):p=y[15],y[16]!==i||y[17]!==d||y[18]!==p?(g=(0,s.jsxs)(u.A,{className:S.messageRetryButtonGroup,ref:i,children:[d,h,p]}),y[16]=i,y[17]=d,y[18]=p,y[19]=g):g=y[19],g});function C({selectedModel:e,models:i,onModelPicked:l,limited:t=!1,type:a,disabled:o,variant:n="invisible",plan:d}){let[m,c]=(0,x.useState)(!1),u=d===N.UH.IndividualFree?(()=>{let e=new Set(i.map(e=>e.displayName));return[...i,...W.filter(i=>!e.has(i.displayName)).map(H)]})():i,g=[],y=[],f=[],b=[],v=[],_=[];R.W.immersiveStructuredModelPicker&&u.some(e=>e.billing?.multiplier!==void 0)&&new Set(u.filter(e=>e.billing?.multiplier!==void 0).map(e=>e.billing?.multiplier)).size>1?(b=u.filter(e=>e.billing&&(e.billing?.multiplier<1&&e.billing?.multiplier!==0||G.includes(e.displayName))),v=u.filter(e=>e.billing&&(e.billing?.multiplier===1||e.billing?.multiplier===0)&&!G.includes(e.displayName)),_=u.filter(e=>e.billing&&e.billing?.multiplier>1)):(g=u.filter(e=>!e.preview),y=u.filter(e=>e.preview),f=t?Y:[]);let M=new Set(u.map(e=>e.vendor)).size>1,k=u.some(e=>e.isThirdParty),P=(0,x.useCallback)(i=>{let l=!o&&i;c(l),l&&(0,r.BI)("dotcom_chat.activate",{target:"MODEL_PICKER_OPEN",mode:"immersive",model:e.id,type:a})},[o,e.id,a]),w=(0,x.useRef)(null),[L,I]=(0,x.useState)("down");return(0,s.jsx)("div",{ref:w,children:(0,s.jsxs)(h.W,{open:m,onOpenChange:P,children:["global"===a?(0,s.jsxs)(h.W.Button,{className:S.menuButton,variant:n??"invisible",disabled:o,children:[(0,s.jsx)("span",{className:"sr-only",children:"Model: "}),(0,s.jsx)("div",{className:S.buttonName,children:e.displayName})]}):(0,s.jsx)(h.W.Anchor,{"aria-label":"Retry with model",children:(0,s.jsx)(E,{selectedModel:e,onModelPicked:l,disabled:o})}),(0,s.jsxs)(h.W.Overlay,{width:"global"===a?"medium":"small",side:"outside-bottom",align:"end",onPositionChange:({position:e})=>{I(["inside-bottom","outside-bottom"].includes(e.anchorSide)?"down":"up")},children:[(0,s.jsxs)(p.l,{selectionVariant:"global"===a?"single":void 0,children:["message-retry"===a&&"down"===L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A,{selectedModel:e,onModelPicked:l}),(0,s.jsx)(p.l.Divider,{})]}),"global"===a&&(0,s.jsx)("div",{className:S.menuHeading,children:"Models"}),g.length>0&&(0,s.jsxs)(p.l.Group,{children:["global"!==a&&(0,s.jsx)(p.l.GroupHeading,{children:"Models"}),g.map(i=>(0,s.jsx)(q,{model:i,selected:T(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:M,hasThirdPartyModel:k},i.id))]}),b.length>0&&(0,s.jsxs)(p.l.Group,{children:[(0,s.jsx)(p.l.GroupHeading,{children:"Fast and cost-efficient"}),b.map(i=>(0,s.jsx)(q,{model:i,selected:T(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:M,hasThirdPartyModel:k},i.id)),(v.length>0||_.length>0)&&(0,s.jsx)(p.l.Divider,{})]}),v.length>0&&(0,s.jsxs)(p.l.Group,{children:[(0,s.jsx)(p.l.GroupHeading,{children:"Versatile and highly intelligent"}),v.map(i=>(0,s.jsx)(q,{model:i,selected:T(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:M,hasThirdPartyModel:k},i.id)),_.length>0&&(0,s.jsx)(p.l.Divider,{})]}),_.length>0&&(0,s.jsxs)(p.l.Group,{children:[(0,s.jsx)(p.l.GroupHeading,{children:"Most powerful at complex tasks"}),_.map(i=>(0,s.jsx)(q,{model:i,selected:T(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:M,hasThirdPartyModel:k},i.id))]}),(y.length>0||f.length>0)&&(0,s.jsxs)(p.l.Group,{children:[(0,s.jsx)(p.l.GroupHeading,{children:"Preview"}),y.map(i=>(0,s.jsx)(q,{model:i,selected:T(e,i)&&"global"===a,onModelPicked:l,hasMultipleVendors:M,hasThirdPartyModel:k},i.id)),f.map(e=>(0,s.jsxs)(p.l.LinkItem,{href:R.W.freeToPaidUpgradeToProFromModels?j.Zr:j.Zs,children:[(0,s.jsx)(p.l.LeadingVisual,{children:(0,s.jsx)(O,{model:e})}),e.displayName,(0,s.jsx)(p.l.Description,{variant:"block",truncate:!0,children:e.vendor}),(0,s.jsx)(p.l.TrailingVisual,{children:(0,s.jsx)("div",{className:"fgColor-muted",children:"Upgrade"})})]},e.id))]}),"message-retry"===a&&"up"===L&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.l.Divider,{}),(0,s.jsx)(A,{selectedModel:e,onModelPicked:l})]})]}),R.W.premiumRequestQuotasEnabled&&(0,s.jsx)(U,{})]})]})})}function U(){let e,i=(0,a.c)(35),{plan:l,premiumChatQuotaRemaining:t,premiumInteractionsQuotaExceeded:o,chatQuotaRemaining:n,chatQuotaExceeded:r,canPurchaseAdditionalQuota:d,canUpgradePlan:m,overagesEnabled:c,resetDate:u}=(0,I.xR)(),h=null;if(l===N.UH.IndividualFree)if(r){let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You have used all requests available this month."," ",(0,s.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),"."]}),i[0]=e):e=i[0],h=e}else if(n<=j.fG){let e;i[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You have used ",100-j.fG,"% of your free requests this month."," ",(0,s.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[1]=e):e=i[1],h=e}else{let e;i[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to access more models and higher limits."]}),i[2]=e):e=i[2],h=e}if(l===N.UH.IndividualPro){if(o&&c){let e,l;i[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(g.A,{inline:!0,href:j.MB,children:"Manage billing"}),i[3]=e):e=i[3],i[4]!==u?(l=(0,s.jsxs)(s.Fragment,{children:["You have used all premium requests available this month. You will be charged per premium request until the limit resets on ",u,"."," ",e]}),i[4]=u,i[5]=l):l=i[5],h=l}else if(o&&!c){let e,l;i[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),i[6]=e):e=i[6],i[7]!==u?(l=(0,s.jsxs)(s.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[7]=u,i[8]=l):l=i[8],h=l}else if(t<=j.mF&&!c){let e;i[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,s.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[9]=e):e=i[9],h=e}}if(l===N.UH.IndividualProPlus){if(o&&c){let e,l;i[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(g.A,{inline:!0,href:j.MB,children:"Manage billing"}),i[10]=e):e=i[10],i[11]!==u?(l=(0,s.jsxs)(s.Fragment,{children:["You have used all premium requests available this month. You will be charged per premium request until the limit resets on ",u,"."," ",e]}),i[11]=u,i[12]=l):l=i[12],h=l}else if(o&&!c){let e,l;i[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"}),i[13]=e):e=i[13],i[14]!==u?(l=(0,s.jsxs)(s.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to get more. Limit resets on ",u,"."]}),i[14]=u,i[15]=l):l=i[15],h=l}else if(t<=j.mF&&!c){let e;i[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,s.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"})," ","to get more."]}),i[16]=e):e=i[16],h=e}}if(l===N.UH.Business)if(o&&!c&&m){let e,l;i[17]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"}),i[17]=e):e=i[17],i[18]!==u?(l=(0,s.jsxs)(s.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[18]=u,i[19]=l):l=i[19],h=l}else if(t<=j.mF&&!c&&m){let e;i[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,s.jsx)(g.A,{inline:!0,href:j.Zs,children:"Upgrade"})," ","to increase your limit."]}),i[20]=e):e=i[20],h=e}else if(!o||c||m){if(t<=j.mF&&!c&&!m){let e;i[24]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,s.jsx)("span",{className:"font-weight-bold",children:"Ask your admin to upgrade "}),"to increase your limit."]}),i[24]=e):e=i[24],h=e}}else{let e,l;i[21]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("span",{className:"font-weight-bold",children:"Ask your admin to upgrade "}),i[21]=e):e=i[21],i[22]!==u?(l=(0,s.jsxs)(s.Fragment,{children:["You have reached your monthly limit for premium requests."," ",e,"to increase your limit. Limit resets on ",u,"."]}),i[22]=u,i[23]=l):l=i[23],h=l}if(l===N.UH.Enterprise)if(o&&!c&&d){let e,l;i[25]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"}),i[25]=e):e=i[25],i[26]!==u?(l=(0,s.jsxs)(s.Fragment,{children:["You have used all premium requests available this month."," ",e," ","to increase your limit. Limit resets on ",u,"."]}),i[26]=u,i[27]=l):l=i[27],h=l}else if(!o||c||d){if(t<=j.mF&&!c&&d){let e;i[31]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month."," ",(0,s.jsx)(g.A,{inline:!0,href:j.pF,children:"Enable additional requests"})," ","to get more usage after the limit is reached."]}),i[31]=e):e=i[31],h=e}else if(t<=j.mF&&!c&&!d){let e;i[32]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsxs)(s.Fragment,{children:["You have used ",100-j.mF,"% of your premium requests this month. Ask your admin to"," ",(0,s.jsx)("span",{className:"font-weight-bold",children:"enable additional requests "}),"to get more usage."]}),i[32]=e):e=i[32],h=e}}else{let e,l;i[28]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("span",{className:"font-weight-bold",children:"enable additional requests "}),i[28]=e):e=i[28],i[29]!==u?(l=(0,s.jsxs)(s.Fragment,{children:["You have reached your monthly limit for premium requests. Ask your admin to"," ",e,"to get more usage. Limit resets on ",u,"."]}),i[29]=u,i[30]=l):l=i[30],h=l}return i[33]!==h?(e=h?(0,s.jsx)("div",{className:S.footer,children:h}):null,i[33]=h,i[34]=e):e=i[34],e}function A(e){let i,l,t,o,n=(0,a.c)(10),{selectedModel:r,onModelPicked:d}=e;return n[0]!==d||n[1]!==r?(i=()=>d(r),n[0]=d,n[1]=r,n[2]=i):i=n[2],n[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,s.jsx)(p.l.LeadingVisual,{children:(0,s.jsx)(m.SyncIcon,{})}),n[3]=l):l=n[3],n[4]!==r.displayName?(t=(0,s.jsx)(p.l.Description,{variant:"block",truncate:!0,children:r.displayName}),n[4]=r.displayName,n[5]=t):t=n[5],n[6]!==r.id||n[7]!==i||n[8]!==t?(o=(0,s.jsxs)(p.l.Item,{onSelect:i,children:[l,"Try again",t]},r.id),n[6]=r.id,n[7]=i,n[8]=t,n[9]=o):o=n[9],o}function q(e){let i,l,t,o,n,r,d,m,c=(0,a.c)(31),{model:u,selected:h,onModelPicked:g,hasMultipleVendors:y,hasThirdPartyModel:f}=e,{plan:b,premiumInteractionsQuotaExceeded:v,chatQuotaExceeded:x,overagesEnabled:j}=(0,I.xR)(),M=b===N.UH.IndividualFree&&x,k=u.billing?.is_premium&&b!==N.UH.IndividualFree&&v&&!j;c[0]!==u.billing?.restricted_to||c[1]!==b?(i=b&&u.billing?.restricted_to&&!u.billing?.restricted_to.includes(b),c[0]=u.billing?.restricted_to,c[1]=b,c[2]=i):i=c[2];let P=i,w="upsellModel"in u&&!0===u.upsellModel,F=M||k||P||w,E=u.id;c[3]!==u||c[4]!==g?(l=()=>g(u),c[3]=u,c[4]=g,c[5]=l):l=c[5];let C=!!F;c[6]!==y||c[7]!==f||c[8]!==u?(t=(y||f)&&(0,s.jsx)(p.l.LeadingVisual,{children:(0,s.jsx)(O,{model:u})}),c[6]=y,c[7]=f,c[8]=u,c[9]=t):t=c[9];let U=F&&S.modelNameDisabled;return c[10]!==U?(o=(0,_.$)(U),c[10]=U,c[11]=o):o=c[11],c[12]!==u.displayName||c[13]!==o?(n=(0,s.jsx)("span",{className:o,children:u.displayName}),c[12]=u.displayName,c[13]=o,c[14]=n):n=c[14],c[15]!==u.id||c[16]!==u.preview?(r=R.W.premiumRequestQuotasEnabled&&u.preview&&u.id!==L.QA&&(0,s.jsx)("span",{className:S.modelMetaLabel,children:"Preview"}),c[15]=u.id,c[16]=u.preview,c[17]=r):r=c[17],c[18]!==y||c[19]!==f||c[20]!==u.vendor?(d=!R.W.premiumRequestQuotasEnabled&&(y||f)&&(0,s.jsx)(p.l.Description,{variant:"block",truncate:!0,children:u.vendor}),c[18]=y,c[19]=f,c[20]=u.vendor,c[21]=d):d=c[21],c[22]!==u.id||c[23]!==h||c[24]!==d||c[25]!==l||c[26]!==C||c[27]!==t||c[28]!==n||c[29]!==r?(m=(0,s.jsxs)(p.l.Item,{onSelect:l,selected:h,disabled:C,children:[t,n,r,d]},E),c[22]=u.id,c[23]=h,c[24]=d,c[25]=l,c[26]=C,c[27]=t,c[28]=n,c[29]=r,c[30]=m):m=c[30],m}function D(e){let i,l,t,o,n=(0,a.c)(13),{model:r,onDismiss:d,onSwitch:m,reason:c}=e;return n[0]!==d||n[1]!==m?(i=e=>"confirm"===e?m():d(),n[0]=d,n[1]=m,n[2]=i):i=n[2],n[3]!==r||n[4]!==c?(l="external-content"===c&&(0,s.jsxs)("p",{children:["The ",r.displayName," model currently doesn\u2019t support external context from ongoing conversations. Start a new conversation to chat with this model."]}),n[3]=r,n[4]=c,n[5]=l):l=n[5],n[6]!==r||n[7]!==c?(t="degraded-image-support"===c&&(0,s.jsxs)("p",{children:["The ",r.displayName," model doesn\u2019t support answering questions about images. Start a new conversation without images to chat with this model."]}),n[6]=r,n[7]=c,n[8]=t):t=n[8],n[9]!==i||n[10]!==l||n[11]!==t?(o=(0,s.jsxs)(y.K,{title:"Switch model",onClose:i,confirmButtonContent:"New conversation",confirmButtonType:"primary",children:[l,t]}),n[9]=i,n[10]=l,n[11]=t,n[12]=o):o=n[12],o}function B({model:e,onDismiss:i,onConfirm:l}){let[t,a]=(0,x.useState)(null),[n,r]=(0,x.useState)(!1),d=e.policy?.terms??"",m=async()=>{try{r(!0),await l(),a(null)}catch{a("An error occurred while updating the policy")}finally{r(!1)}};return(0,s.jsxs)(b.l,{width:"large",onClose:i,title:`Enable ${e.displayName}`,footerButtons:[{buttonType:"default",content:"Cancel",onClick:i},{buttonType:"primary",content:n?(0,s.jsx)(f.A,{size:"small",className:S.loadingSpinner}):"Enable",onClick:()=>void m()}],children:[t&&(0,s.jsx)(v.l,{title:"Error",variant:"critical",children:t}),(0,s.jsx)(o.To,{markdown:d})]})}function O(e){let i,l=(0,a.c)(3),{model:t}=e;return l[0]!==t.logoURL||l[1]!==t.vendor?(i=t.logoURL?(0,s.jsx)(n.r,{alt:`${t.vendor} logo`,square:!0,size:18,src:t.logoURL}):(0,s.jsx)(m.CopilotIcon,{}),l[0]=t.logoURL,l[1]=t.vendor,l[2]=i):i=l[2],i}function T(e,i){return e.id===i.id}let G=["o3-mini","Gemini 2.0 Flash"],Y=[{id:"claude-3.7-sonnet-upgrade",displayName:"Claude 3.7 Sonnet",vendor:"Anthropic",logoURL:"/images/modules/marketplace/models/families/anthropic.svg"},{id:"o1-upgrade",displayName:"o1",vendor:"Azure OpenAI",logoURL:"/images/modules/marketplace/models/families/openai.svg"}];function H(e){let i=e.logoURL?.includes("anthropic")?"Anthropic":e.logoURL?.includes("openai")?"Azure OpenAI":e.logoURL?.includes("gemini")?"Google":"Unknown";return{...e,name:e.displayName,version:"1.0",vendor:i,model_picker_enabled:!0,hasLimitedCapabilities:!1,isThirdParty:"Azure OpenAI"!==i,capabilities:{family:"unknown",limits:{max_prompt_tokens:4096},supports:{},tokenizer:"gpt",type:"chat"},preview:e.preview??!1,billing:{...e.billing,is_premium:!0}}}let W=[{id:"o4-mini-upgrade",displayName:"o4-mini",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:.33}},{id:"claude-3.7-sonnet-upgrade",displayName:"Claude Sonnet 3.7",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:1}},{id:"claude-sonnet-4-upgrade",displayName:"Claude Sonnet 4",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:1}},{id:"gemini-2.5-pro-upgrade",displayName:"Gemini 2.5 Pro",logoURL:"/images/modules/marketplace/models/families/gemini.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"o3-upgrade",displayName:"o3",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"gpt-5",displayName:"GPT-5",logoURL:"/images/modules/marketplace/models/families/openai.svg",upsellModel:!0,preview:!0,billing:{multiplier:1}},{id:"claude-3-7-thinking-upgrade",displayName:"Claude Sonnet 3.7 Thinking",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:10}},{id:"claude-opus-4-upgrade",displayName:"Claude Opus 4",logoURL:"/images/modules/marketplace/models/families/anthropic.svg",upsellModel:!0,billing:{multiplier:10}}];try{F.displayName||(F.displayName="ModelPicker")}catch{}try{E.displayName||(E.displayName="RetryButtonGroup")}catch{}try{(t=RetryButtonGroupWithRef).displayName||(t.displayName="RetryButtonGroupWithRef")}catch{}try{C.displayName||(C.displayName="ModelPickerDesign")}catch{}try{U.displayName||(U.displayName="ModelPickerFooter")}catch{}try{A.displayName||(A.displayName="RetryListItem")}catch{}try{q.displayName||(q.displayName="ModelListItem")}catch{}try{D.displayName||(D.displayName="NewConversationConfirmationDialog")}catch{}try{B.displayName||(B.displayName="ModelPolicyConfirmationDialog")}catch{}try{O.displayName||(O.displayName="ModelVendorIcon")}catch{}}}]);
//# sourceMappingURL=packages_copilot-chat_components_ModelPicker_tsx-abe70bc9ecca.js.map